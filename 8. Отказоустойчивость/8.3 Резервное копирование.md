# Домашнее задание к занятию 3 «Резервное копирование»

### Задание 1
- Составьте команду rsync, которая позволяет создавать зеркальную копию домашней директории пользователя в директорию `/tmp/backup`
Ответ:

Команда

```
 rsync -azvh --progress . /tmp/backup/
```

![](https://user-images.githubusercontent.com/136073445/261194879-6e4cd0f9-d49b-49cf-853f-349c3a44891b.png)

![](https://user-images.githubusercontent.com/136073445/261195199-ec491357-7b62-48ec-af44-d13163343886.png)

- Необходимо исключить из синхронизации все директории, начинающиеся с точки (скрытые)

```
rsync -azvh --exclude '.*' . /tmp/backup/
```
![](https://user-images.githubusercontent.com/136073445/261373895-42e03f1a-bf88-41cc-8b0d-e70a6d527ac7.png)

![](https://user-images.githubusercontent.com/136073445/261374126-127a89e9-cb49-4115-ad28-cedc00ebebc5.png)
 
- Необходимо сделать так, чтобы rsync подсчитывал хэш-суммы для всех файлов, даже если их время модификации и размер идентичны в источнике и приемнике.


```
 rsync -avP --checksum --exclude '.*' . /tmp/backup/
```

![](https://user-images.githubusercontent.com/136073445/261389267-ad865ee9-e205-4c1b-b2af-e9733775abda.png)
  
- На проверку направить скриншот с командой и результатом ее выполнения



### Задание 2
- Написать скрипт и настроить задачу на регулярное резервное копирование домашней директории пользователя с помощью rsync и cron.

```
#!/bin/bash
rsync -azvh --progress /home/lss /tmp/backup/
```
![](https://user-images.githubusercontent.com/136073445/261395597-aa356c63-b18b-4ff1-b349-9c2e2a9d6bc1.png)


- Резервная копия должна быть полностью зеркальной
- Резервная копия должна создаваться раз в день, в системном логе должна появляться запись об успешном или неуспешном выполнении операции
- Резервная копия размещается локально, в директории `/tmp/backup`
- На проверку направить файл crontab и скриншот с результатом работы утилиты.
